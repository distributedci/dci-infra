{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ec6428b4_55e35a99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-27T16:19:15Z",
      "side": 1,
      "message": "Where do all the settings in settings.py and dci-api.env come from? there are no defaults, right now you\u0027d have to define *all* of them in dci-infra-data-prod or they\u0027ll be blank/wrong when rendering the template, and the template overrides the container behavior",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "186c7432_64a2103d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28
      },
      "writtenOn": "2025-03-27T16:37:38Z",
      "side": 1,
      "message": "First, settings.py doesn\u0027t has its place here, its a leftover from a previous iteration, I removed it in patch set 2.\n\nThen:\n - if there\u0027s no \"{% if \u003cvariable_name\u003e is defined %}\", this is a variable that\u0027s already in dci-infra-data-prod.\n - if it\u0027s a new or optional variable, I added the \"{% if â€¦ is defined %}\".\n\nDo you think that I should add \"{% if \u003cvariable_name\u003e is defined %}\" for all variables in dci-api.env.j2 ?",
      "parentUuid": "ec6428b4_55e35a99",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b53d3988_0a993fcb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-27T18:10:58Z",
      "side": 1,
      "message": "if a variable is required then it\u0027s fine to break if is not present, so your approach works for me ðŸ˜Š",
      "parentUuid": "186c7432_64a2103d",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a62012ef_9d5cd9ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 28
      },
      "writtenOn": "2025-03-28T10:16:30Z",
      "side": 1,
      "message": "Okay, after discussing together, I\u0027ll keep it this way for now, all variables that don\u0027t have `{% if â€¦ is defined %}` require a custom value for production and as such they need to be defined.",
      "parentUuid": "186c7432_64a2103d",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00362af2_f2624bd7",
        "filename": "roles/quadlet.dci_api/handlers/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 648
      },
      "writtenOn": "2025-03-27T16:19:15Z",
      "side": 1,
      "message": "just a comment but: would it make sense to add a pause between restarts? this can be done with\n```\nloop_control:\n  pause: X\n```",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7131e30_2e23d137",
        "filename": "roles/quadlet.dci_api/handlers/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 28
      },
      "writtenOn": "2025-03-27T16:37:38Z",
      "side": 1,
      "message": "It could be.\nLet\u0027s discuss what delay would make sense.",
      "parentUuid": "00362af2_f2624bd7",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03eff24c_9e955c51",
        "filename": "roles/quadlet.dci_api/handlers/main.yml",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 28
      },
      "writtenOn": "2025-03-27T16:54:55Z",
      "side": 1,
      "message": "Okay, since gunicorn supports sd_notify, maybe we could use  Notify\u003dhealthy or Notify\u003dtrue instead of waiting randomly ?\n\ncf. https://docs.podman.io/en/latest/markdown/podman-systemd.unit.5.html#notify-defaults-to-false\n\nLet\u0027s set this aside for now, I\u0027ll do some tests to check what\u0027s best",
      "parentUuid": "b7131e30_2e23d137",
      "revId": "fe7476250d05f506530d7a467837c42971ca992a",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0"
    }
  ]
}